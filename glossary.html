<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ðŸ“š Glossary Study App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans min-h-screen">

  <!-- Header -->
  <header class="bg-indigo-700 text-white text-center py-6 shadow-md">
    <h1 class="text-2xl sm:text-3xl font-bold">ðŸ“š Glossary Explorer</h1>
    <p class="text-indigo-200 text-sm mt-1">Study categories and words visually</p>
  </header>

  <!-- Main Content -->
  <main class="max-w-4xl mx-auto px-4 py-8 space-y-6">
    <!-- Category Selector -->
    <div class="text-center">
      <select id="categorySelect"
              class="w-full sm:w-auto px-4 py-3 rounded-lg border border-gray-300 shadow focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-sm sm:text-base">
        <option disabled>Select a glossary category</option>
      </select>
    </div>

    <!-- Subcategories & Words -->
    <div id="glossaryContent" class="space-y-6"></div>
  </main>

  <!-- Footer -->
  <footer class="text-center text-xs sm:text-sm text-gray-500 py-6 border-t mt-10">
    Â© 2025 Glossary Study App | Learn visually and effectively ðŸ“˜
  </footer>

  <!-- Script -->
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      const response = await fetch('https://ornate-frangollo-d46c3a.netlify.app/glossary.json');
      const glossary = await response.json();
      const select = document.getElementById('categorySelect');
      const content = document.getElementById('glossaryContent');

      const categories = Object.keys(glossary);

      // Populate dropdown
      categories.forEach((cat, index) => {
        const opt = document.createElement('option');
        opt.value = cat;
        opt.textContent = cat;
        if (index === 0) opt.selected = true;
        select.appendChild(opt);
      });

      // Function to load content
      function loadCategory(category) {
        const selected = glossary[category];
        content.innerHTML = '';

        for (const sub in selected) {
          const section = document.createElement('section');

          const title = document.createElement('h2');
          title.className = 'text-lg sm:text-xl font-semibold text-indigo-600 mb-2';
          title.textContent = sub;

          const grid = document.createElement('div');
          grid.className = 'grid grid-cols-2 sm:grid-cols-3 gap-3';

          selected[sub].forEach(word => {
            const box = document.createElement('div');
            box.className = 'bg-white p-3 rounded-lg shadow text-sm sm:text-base text-center';
            box.textContent = word;
            grid.appendChild(box);
          });

          section.appendChild(title);
          section.appendChild(grid);
          content.appendChild(section);
        }
      }

      // Initial load of the first category
      loadCategory(categories[0]);

      // Load on change
      select.addEventListener('change', () => {
        loadCategory(select.value);
      });
    });
  </script>

</body>
</html>
