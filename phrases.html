<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>English Phrases (Tabbed)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

  <header class="bg-indigo-700 text-white text-center py-6 shadow-md">
    <h1 class="text-3xl font-bold">ðŸ“˜ English Phrasebook</h1>
    <p class="text-indigo-200 text-sm mt-1">Learn by category</p>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-10">
    <!-- Tab buttons -->
    <div id="tabs" class="flex flex-wrap gap-2 mb-6"></div>

    <!-- Tab content -->
    <div id="tabContent" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
  </main>

  <footer class="text-center text-sm text-gray-600 py-6 border-t">
    Â© 2025 English Phrase Tabs | Speak better, faster ðŸ’¬
  </footer>

  <script>
    const response = await fetch('https://ornate-frangollo-d46c3a.netlify.app/phrases.json');
    const phrases = await response.json();

    const tabs = document.getElementById('tabs');
    const content = document.getElementById('tabContent');

    let activeTab = null;

    function createTabs() {
      Object.keys(phrases).forEach((category, index) => {
        const button = document.createElement('button');
        button.textContent = category;
        button.className = `px-4 py-2 rounded-full text-sm font-medium bg-white text-gray-700 border border-gray-300 shadow-sm hover:bg-indigo-100 transition ${
          index === 0 ? 'bg-indigo-700 text-white font-bold' : ''
        }`;
        button.onclick = () => showCategory(category, button);
        tabs.appendChild(button);
        if (index === 0) showCategory(category, button); // auto load first
      });
    }

    function showCategory(category, button) {
      // Reset button styles
      [...tabs.children].forEach(btn =>
        btn.className = btn.className.replace('bg-indigo-700 text-white font-bold', 'bg-white text-gray-700')
      );
      button.classList.add('bg-indigo-700', 'text-white', 'font-bold');

      // Load phrases
      content.innerHTML = '';
      phrases[category].forEach(phrase => {
        const div = document.createElement('div');
        div.className = 'bg-white p-4 rounded-xl shadow hover:bg-indigo-50 transition text-sm';
        div.textContent = phrase;
        content.appendChild(div);
      });
    }

    createTabs();
  </script>
</body>
</html>
